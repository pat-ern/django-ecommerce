{% extends 'app/base.html' %}
{% load static %}

{% block titulo %}
<title>Producto</title>
{% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static 'app/css/producto.css' %}">
{% endblock %}

{% block js %}
<script src="{% static 'app/js/producto.js' %}"></script>
<script src="{% static 'app/js/jqueryvalidate.js' %}"></script>
{% endblock %}

{% block contenido %}
{% load crispy_forms_tags %}
{% load humanize %}
<div class="container-fluid">
  <div class="row">
    <div class="fotos-producto col-12 col-md-6 col-lg-5">
      <div class="foto-producto text-dark m-2 p-2">
        <img src="{{ producto.imagen.url }}" class="card-img-top img-fluid" alt="...">
      </div>
    </div>
    <div class="container col-12 col-md-6 col-lg-7">
      <h3 style="padding-top: 5px; font-weight: bold; color: #444444;">{{producto.nombre}}</h3>
      <hr>
      <h4>Descripción:</h4>
      <p class="descripcion-producto">{{producto.descripcion}}</p>
      <h3>${{producto.precio | intcomma }}</h3>
      <button type="button" class="btn me-2">Añadir al carrito</button>
    </div>
  </div>
</div>
<hr>
<div class="d-grid gap-2 col text-center">
  <button type="button" class="btn bg-light btn-lg mostrar-comentarios" id="btn-toggle">Mostrar/Ocultar Comentarios</button>
</div>
<div class="container-fluid comentarios" id="div-comentarios">
  <div class="row">
    <div class="col-12 col-md-6 col-lg-7">
      <table class="table mt-4">
        <thead>
          <tr class="bg-light">
            <th>Usuario</th>
            <th>Puntuacion</th>
            <th>Comentario</th>
          </tr>
        </thead>
        <tbody id="tabla-tbody">
          {% for c in comentarios %}
            <tr>
              <td>{{c.idUsuario}}</td>
              <td>{{c.puntuacion}}</td>
              <td>{{c.comentario}}</td>
            </tr>
          {% endfor%}
        </tbody>
      </table>
    </div>
    <div class="col-12 col-md-6 col-lg-5 seccion-comentar">



      <form action="" class="form-group" id="commentForm" method="POST" action="">
        <div class="card-head bg-light text-center div-titulo-comentar">
          <button type="button" class="btn bg-light text-sucess texto-titulo-comentar" id="btn-toggle-2" style="font-weight: bold;">Comentar</button>
        </div>
        {% csrf_token %}
        {{ form | crispy }}
        <div class="d-flex justify-content-end mb-2 formulario_grupo_btn_enviar">
            <button type="reset" class="btn btn-primary mt-1" id="limpiar">Limpiar</button>
            &nbsp;
            <button type="submit" class="btn btn-primary mt-1" id="enviar">Enviar</button>
        </div>
      </form>



    </div>
  </div>
</div>
{% endblock %}